var fowl=function(){"use strict";var t=1024,n=0,o=function(){this.components=new Array(n*t),this.entityMask=new Uint32Array(t),this.pool=[]};return o.prototype.count=0,o.prototype.createEntity=function(){var t=this.pool.length>0?this.pool.pop():this.count++;if(t>=this.entityMask.length){var n=this.entityMask;(this.entityMask=new Uint32Array(1.5*n.length)).set(n)}return t},o.prototype.removeEntity=function(t){this.entityMask[t]=0,this.pool.push(t)},o.prototype.addComponent=function(t,o){var e=o.constructor.componentId;return this.entityMask[t]|=1<<e,this.components[n*t+e]=o},o.prototype.removeComponent=function(t,n){this.entityMask[t]&=~(1<<n.componentId)},o.prototype.hasComponent=function(t,n){return this.entityMask[t]&1<<n.componentId},o.prototype.getComponent=function(t,o){return this.components[n*t+o.componentId]},o.prototype.clear=function(){this.entityMask.fill(0)},o.prototype.each=function(t){for(var n=0,o=1;o<arguments.length;++o)n|=1<<arguments[o].componentId;for(var o=0,e=this.count;e>o;++o)(this.entityMask[o]&n)===n&&t(o)},{EntityManager:o,registerComponents:function(){if(arguments.length>32)throw new RangeError("Too many components");for(var t=0,o=arguments.length;o>t;++t)arguments[t].componentId=t;n=arguments.length}}}();